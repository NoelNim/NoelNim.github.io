<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="base.css">
        <script>
            window.onload = function()
            { 
                var supersecretstring = "you are a sneaky one, arent you?"
                var supersecretb64 = btoa(supersecretstring);
                console.log(supersecretb64);

                let encode = document.getElementById('encode');
                let decode = document.getElementById('decode');
                let inputEncode = document.getElementById('inputEncode');
                let outputEncode = document.getElementById('outputEncode');
                let inputDecode = document.getElementById('inputDecode');
                let outputDecode = document.getElementById('outputDecode');

                var errorMessage = 
                [
                    "not a valid string",
                    "no string",
                    "pls enter string",
                    "i need string",
                    "string. not. there"
                ]

                encode.onclick = function() 
                {
                    if(inputEncode.value == "")
                    {
                        var randomErrorMessage = errorMessage[Math.floor(Math.random() * errorMessage.length)];
                        outputEncode.innerHTML = randomErrorMessage;
                    } else
                    {
                        outputEncode.innerHTML = btoa(inputEncode.value);
                    }
                };

                decode.onclick = function() 
                {
                    if(inputDecode.value == "")
                    {
                        var randomErrorMessage = errorMessage[Math.floor(Math.random() * errorMessage.length)];
                        outputDecode.innerHTML = randomErrorMessage;
                    } else
                    {
                        outputDecode.innerHTML = atob(inputDecode.value);
                    }
                };

                const copyButton = document.getElementById('copy2');

                copyButton.addEventListener("click", copyText);

                function copyText()
                {
                    outputDecode.innerHTML.select();
                    document.execCommand("copy");
                    copyButton.innerHTML = "done";
                }
            }
        </script>
        <title>Base 64</title>
        <script src="https://kit.fontawesome.com/d378015fe2.js" crossorigin="anonymous"></script>
    </head>
    <body>
        <div id="base64">
            <div id="inputDiv">
                <p id="inputDivTitle">Encode</p>
                <input id="inputEncode" placeholder="encode message">
                <div>
                    <button id="encode" type="submit">Encode</button>
                </div>
                <div id="outputEncode">Encoded string</div>
                <button id="copy1">Copy <i class="fas fa-copy"></i></button>
            </div>
            <div id="decodeDiv">
                <p id="inputDivTitleDecode">Decode</p>
                    <input id="inputDecode" placeholder="decode message">
                    <div id="decodebuttondiv">
                        <button id="decode" type="submit">Decode</button>
                    </div>
                    <div id="outputDecode">Decoded string</div>
                    <button id="copy2" onclick="copyFunction2()">Copy <i class="fas fa-copy"></i></button>
            </div>
        </div>
        <div id="bottom">
            <a href="../index.html"><img src="../img/button.png" width="100"></a>
        </div>
    </body>
</html>